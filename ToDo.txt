FIX:

- REMOVE NSOBJECT FROM DATAMODELS !!!

- CHANGE OAUTH CALLBACK IN GITHUB OAUTH SETTINGS WHEN GOING LIVE IN HEROKU!!!
- MARKDOWN NOT COMPILING ON HEROKU?
- Forum dirname must be unique, add constrain to db

TODO:

! Github authentication
- remove authToken, userInfo from authorization, use code to verify or error to deny
? Save user token, user info in user session

- register user, get github nick, 
- fetch api.github.com/users/{nick} for name, avatar, save in db
- on save: redirect to github for login 

- Vote up/dn, color icons, send to server
- Show permalink in every post and reply for easy sharing
- if logged, allow to post in listing, show textarea and submit button
- post new message
? question, answered, message, poll, job, app icons, default is message (chat bubble)
- add some users to test
- add some messages to every forum
? hot topic (red question|message|poll icon > 10 messages)

- index:
  - list latest 50 messages from all forums
  - list forums on the sidebar
- on forum: show last messages for that forum
- on message: show all replies, allow new reply
- on new thread: question? message? page? wiki (markdown)?
- on new message:

- Authentication:
  - github oAuth?
  - save nick, token in cookies, hidden field in forms
  ? reddit oAuth?
  ? userid + pass + gmail

- no avatar for now, just like reddit

------------------------------------------------------------

x Markdown library
x Add template tag for markdown
x Add actionbar below header for username, messages, actions
x Remove table, use LI in index list
x time ago in last posts. make ago(time) extension
x add forum info, forums list, user info to default DataNode for use in all templates
x use DataNode with defaults in base template
x add all forums to db
x App breaking if db not available. Fail gracefuly
x Test Heroku postgres
~ Design database
? Create database on /admin/install
? database.runJob(sql)
x Remove /admin/install. Heroku does not allow String(contentsOfFile:...)
x instead of running sql jobs, create DB manually
x database.verifyIntegrity, if not exists, create db, tables, populate, save flag
x Fail.dataStoreError, design Fail system like vapor's Abort.notFound

------------------------------------------------------------

Stages:

1. Main forum, posts, messages
2. Extended user profile with avatars and stuff
3. Configurability for external installation
4. Moderation tools
5. Admin tools

------------------------------------------------------------

Nodes suck donkey balls

node.string
node.int
node.array
node.object

// loop rows from db
for item in rows.array! {
	let val = item.object!["name"]!.string! // WTF???
}
